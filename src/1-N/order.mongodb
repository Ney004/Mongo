use("mall")

db.createCollection("orders",{
    validator:{
        $jsonSchema:{
            bsonType: "object",
            required:["order_id", "customer_id"],
            properties:{
                order_id:{
                    bsonType: "string"
                },
                customer_id:{
                    bsonType: "objectId"
                },
                product:{
                    bsonType: "array",
                    items:{
                        bsonType: "object",
                        properties:{
                            product_id:{
                                bsonType: "string"
                            },
                            name:{
                                bsonType: "string"
                            },
                            price:{
                                bsonType: "number"
                            }
                        }
                    }
                }
            }
        }            
    }
})